import{a as O}from"./chunk-EBRZLXW4.js";import{f as T,g as P}from"./chunk-HZIZHH2S.js";import{v as b}from"./chunk-LFRGMU5A.js";import"./chunk-GNZOMBLT.js";import"./chunk-SHP6ENC7.js";import{b as C,c as S,g as x,m as M}from"./chunk-XWYR52OK.js";import{Ab as u,Cb as h,Ka as g,Pb as y,Qa as o,U as l,bb as i,cb as s,db as a,eb as c,fb as _,gb as d,ha as f,mb as m,vb as v,za as r}from"./chunk-GVD6OS2H.js";function I(e,n){if(e&1&&c(0,"app-movie-card",8),e&2){let t=n.$implicit;i("movie",t)}}function E(e,n){if(e&1&&(_(0),o(1,I,1,1,"app-movie-card",7),d()),e&2){let t=m(2);r(),i("ngForOf",t.results())}}function q(e,n){if(e&1&&c(0,"app-tv-shows-card",10),e&2){let t=n.$implicit;i("show",t)}}function F(e,n){if(e&1&&(_(0),o(1,q,1,1,"app-tv-shows-card",9),d()),e&2){let t=m(2);r(),i("ngForOf",t.results())}}function N(e,n){if(e&1&&(s(0,"div",5),o(1,E,2,1,"ng-container",6)(2,F,2,1,"ng-container",6),a()),e&2){let t=m();r(),i("ngIf",t.mediaType==="movie"),r(),i("ngIf",t.mediaType==="tv")}}function D(e,n){e&1&&(s(0,"p"),u(1,"No results found."),a())}var R=class e{route=l(M);cardService=l(b);results=f([]);query="";mediaType="movie";ngOnInit(){this.route.queryParamMap.subscribe(n=>{this.query=n.get("query")||"",this.mediaType=n.get("type")||"movie",this.query?this.mediaType==="movie"?this.cardService.searchMovies(this.query).subscribe(t=>{this.results.set(t.results)}):this.cardService.searchTVShows(this.query).subscribe(t=>{this.results.set(t.results)}):this.results.set([])})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=g({type:e,selectors:[["app-search-results"]],decls:8,vars:4,consts:[["noResults",""],[1,"container"],[1,"search-bar"],[3,"activeTabValue"],["class","cards__container",4,"ngIf","ngIfElse"],[1,"cards__container"],[4,"ngIf"],[3,"movie",4,"ngFor","ngForOf"],[3,"movie"],[3,"show",4,"ngFor","ngForOf"],[3,"show"]],template:function(t,p){if(t&1&&(s(0,"div",1)(1,"div",2),c(2,"app-search",3),a(),s(3,"h2"),u(4),a(),o(5,N,3,2,"div",4)(6,D,2,0,"ng-template",null,0,y),a()),t&2){let w=v(7);r(2),i("activeTabValue",p.mediaType==="tv"?1:0),r(2),h('Results for "',p.query,'"'),r(),i("ngIf",p.results().length)("ngIfElse",w)}},dependencies:[T,x,C,S,O,P],styles:[".container[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]{margin-top:2.5rem}.container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:3.875rem;margin-bottom:2rem}.container[_ngcontent-%COMP%]   .cards__container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1.5rem;margin-bottom:3.65rem}.container[_ngcontent-%COMP%]   .cards__container[_ngcontent-%COMP%]   app-movie-card[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .cards__container[_ngcontent-%COMP%]   app-tv-shows-card[_ngcontent-%COMP%]{width:17%}"]})};export{R as SearchResults};
